<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOP Configurator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <h1>SOP Configurator</h1>

    <!-- Link to Methodology & Checklist page -->
    <div style="text-align: center; margin-bottom: 20px;">
        <a href="methodology_checklist.html" class="button-link">Measurement Methodology & Inspection Checklist »</a>
    </div>

    <!-- New Wrapper for 3-Column Layout -->
    <div class="app-wrapper">

        <!-- Left Sidebar -->
        <div class="left-sidebar">
            <!-- SOP Header Section -->
            <div class="section sop-header">
                <h2>SOP Details</h2>
                <div>
                    <label for="sop-name">SOP Name:</label>
                    <input type="text" id="sop-name" value="New Construction Interior - Wainscot - Bead-Board Painting">
                </div>
                <div>
                    <label for="sop-description">SOP Description:</label>
                    <textarea id="sop-description" rows="3">This specification covers the painting of factory primed bead-board wainscote in new construction interior settings, including preparation and finishing.</textarea>
                </div>
            </div>

            <!-- Global Factor Management -->
            <div class="section">
                <div class="section-header">
                    <h2>Manage Global Factors (Base Settings)</h2>
                    <button class="toggle-collapse-btn" data-target="global-factors-content">▼</button>
                </div>
                <div id="global-factors-content" class="section-content">
                    <div id="global-factor-list"></div>
                    <button id="show-add-factor-form-btn">+ Add New Factor</button>
                    <div id="add-factor-form" class="add-factor-form" style="display: none;">
                        <h4>New Factor Details</h4>
                        <input type="text" id="new-factor-name" placeholder="Factor Name">
                        <input type="text" id="new-factor-range" placeholder="Multiplier Range (e.g., 0.7-0.9)">
                        <textarea id="new-factor-description" placeholder="Description of this factor and how it affects production rates..." rows="3"></textarea>
                        <button id="add-factor-btn">Add Factor</button>
                        <button id="cancel-add-factor-btn">Cancel</button>
                    </div>
                </div>
            </div>
        </div> <!-- End Left Sidebar -->

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Task Management & Configuration -->
            <div class="section">
                <h2>Manage Tasks & Task-Specific Factors</h2>
                <div id="task-list"></div>
                <button id="add-task-btn">+ Add New Task</button>
            </div>
        </div> <!-- End Main Content Area -->

        <!-- Right Sidebar -->
        <div class="right-sidebar">
            <!-- Configuration Controls -->
            <div class="section save-load-controls">
                <h2>Configuration</h2>
                <button id="save-config-json-btn">Save Config (JSON)</button>
                <button id="save-config-csv-btn">Save Config (CSV)</button>
                <label for="load-config-input" class="button-label">Load Config (JSON)</label>
                <input type="file" id="load-config-input" accept=".json" style="display: none;">
            </div>

            <!-- Project Inputs -->
            <div class="section">
                <h2>Project Details (For Estimation Only)</h2>
                <div>
                    <label for="project-area">Project Area (SF):</label>
                    <input type="number" id="project-area" value="100" min="0">
                </div>
                <div>
                    <label for="labor-rate">Hourly Labor Rate ($):</label>
                    <input type="number" id="labor-rate" value="50" min="0" step="0.01">
                </div>
            </div>

            <!-- Estimated Results -->
            <div class="section results">
                <h2>Estimated Results</h2>
                <p>Final Production Rate: <strong id="final-rate">N/A</strong> SF/HR</p>
                <p>Estimated Time to Complete: <strong id="total-time">N/A</strong> Hours</p>
                <p>Estimated Labor Cost: $<strong id="total-cost">N/A</strong></p>
            </div>
        </div> <!-- End Right Sidebar -->

    </div> <!-- End App Wrapper -->

    <script src="script.js"></script>
</body>
</html>
